<!DOCTYPE html>
<!-- This Source Code Form is subject to the terms of the Mozilla Public
   - License, v. 2.0. If a copy of the MPL was not distributed with this
   - file, You can obtain one at http://mozilla.org/MPL/2.0/. -->

<html>
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="initial-scale=1.0; width=device-width;">
  <title>Persona Test Relying Party</title>

  <style>
    ul { list-style: none; padding: 0; }
    ul li { line-height: 1.75; }
    ul label { display: inline-block; width: 8em; text-align: right; }

    ol textarea { vertical-align: top; height: 3em; width: 30em; }
  </style>
</head>

<body>
  <h1>Persona Test Relying Party</h1>

  <p>
    Load shim from:
    <a href="/">Local (Default)</a>
    <a href="/?dev">Dev</a>
    <a href="/?stage">Stage</a>
    <a href="/?prod">Prod</a>
    <a href="/?fxos">FxOS</a>
  </p>

  <div class=config>
    <fieldset>
      <legend>navigator.id.watch()</legend>
      <ul>
        <li>
          <label for=watchOnlogin>onlogin</label>
          <input type=checkbox checked id=watchOnlogin />
          <em>(Required)</em>
        </li>
        <li>
          <label for=watchOnready>onready</label>
          <input type=checkbox checked id=watchOnready />
        </li>
        <li>
          <label for=watchOnlogout>onlogout</label>
          <input type=checkbox id=watchOnlogout />
          <em>(Deprecated, Observer API Only)</em>
        </li>
        <li>
          <label for=watchOnmatch>onmatch</label>
          <input type=checkbox id=watchOnmatch />
          <em>(Deprecated, Observer API Only)</em>
        </li>
        <li>
          <label for=watchLoggedInUser>loggedInUser</label>
          <input type=email placeholder="user@example.com" id=watchLoggedInUser />
          <em>(Deprecated, Observer API Only)</em>
        </li>
        <li>
          <label for=watchSiteName>siteName</label>
          <input type=text placeholder="String" id=watchSiteName />
        </li>
        <li>
          <label for=watchSiteLogo>siteLogo</label>
          <input type=text placeholder="HTTPS URL or data: URI" id=watchSiteLogo />
          <button class="preset" data-for=watchSiteLogo data-value="https://login.persona.org/pages/i/persona-logo-100x100.png">URL</button>
          <button class="preset" data-for=watchSiteLogo data-value="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iDQogICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KDQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiB3aWR0aD0iNDY3IiBoZWlnaHQ9IjQ2MiI+DQogIDxyZWN0IHg9IjgwIiB5PSI2MCIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiIHJ4PSIyMCINCiAgICAgIHN0eWxlPSJmaWxsOiNmZjAwMDA7IHN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoycHg7IiAvPg0KICANCiAgPHJlY3QgeD0iMTQwIiB5PSIxMjAiIHdpZHRoPSIyNTAiIGhlaWdodD0iMjUwIiByeD0iNDAiDQogICAgICBzdHlsZT0iZmlsbDojMDAwMGZmOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjJweDsNCiAgICAgIGZpbGwtb3BhY2l0eTowLjc7IiAvPg0KPC9zdmc+">data:</button>
        </li>
        <li>
          <label for=watchBackgroundColor>backgroundColor</label>
          <input type=text placeholder="Hex #rgb or #rrggbb" id=watchBackgroundColor />
          <button class="preset" data-for=watchBackgroundColor data-value="#223">Dark</button>
          <button class="preset" data-for=watchBackgroundColor data-value="#fafaf0">Light</button>
        </li>
      </ul>

      <button id="watch">navigator.id.watch(<em>options</em>);</button>
    </fieldset>

    <fieldset>
      <legend>navigator.id.request()</legend>
      <ul>
        <li>
          <label for=requestOncancel>oncancel</label>
          <input type=checkbox checked id=requestOncancel />
        </li>
        <li>
          <label for=requestEmail>email</label>
          <input type=email placeholder="user@example.com" id=requestEmail />
          <em>(Has bugs)</em>
        </li>
        <li>
          <label for=requestTermsOfService>termsOfService</label>
          <input type=text placeholder="Absolute path or URL" id=requestTermsOfService />
          <button class="preset" data-for=requestTermsOfService data-value="https://login.persona.org/en/embedded_tos">URL</button>
          <button class="preset" data-for=requestTermsOfService data-value="/terms.html">Path</button>
          <em>(Deprecated)</em>
        </li>
        <li>
          <label for=requestPrivacyPolicy>privacyPolicy</label>
          <input type=text placeholder="Absolute path or URL" id=requestPrivacyPolicy />
          <button class="preset" data-for=requestPrivacyPolicy data-value="https://login.persona.org/en/embedded_privacy">URL</button>
          <button class="preset" data-for=requestPrivacyPolicy data-value="/privacy.html">Path</button>
          <em>(Deprecated)</em>
        </li>
        <li>
          <label for=requestReturnTo>returnTo</label>
          <input type=text placeholder="Absolute path" id=requestReturnTo />
          <em>(Deprecated)</em>
        </li>
        <li>
          <label for=requestAllowUnverified>allowUnverified</label>
          <input type=checkbox id=requestAllowUnverified />
          <em>(Experimental)</em>
        </li>
        <li>
          <label for=requestForceAuthentication>forceAuthentication</label>
          <input type=checkbox id=requestForceAuthentication />
          <em>(Experimental)</em>
        </li>
        <li>
          <label for=requestForceIssuer>forceIssuer</label>
          <input type=text placeholder="Domain" id=requestForceIssuer />
          <button class="preset" data-for=requestForceIssuer data-value="firefoxos.persona.org">FxOS</button>
          <em>(Experimental)</em>
        </li>
      </ul>

      <p>
        <button id="request">navigator.id.request(<em>options</em>);</button>
      </p>

      <p>
        <button id="logout">navigator.id.logout();</button>
        <em>(Deprecated, Observer API Only)</em>
      </p>
    </fieldset>

    <fieldset>
      <legend>Verifier</legend>
      <ul>
        <li>
          <label for=verifierAllowUnverified>allowUnverified</label>
          <input type=checkbox id=verifierAllowUnverified />
        </li>
        <li>
          <label for=verifierForceIssuer>forceIssuer</label>
          <input type=text placeholder="Domain" id=verifierForceIssuer />
          <button class="preset" data-for=verifierForceIssuer data-value="firefoxos.persona.org">FxOS</button>
        </li>
      </ul>
    </fieldset>

    <fieldset>
      <legend>navigator.id.get()</legend>

      <ul>
        <li>
          <label for=getSiteName>siteName</label>
          <input type=text placeholder="String" id=getSiteName />
        </li>
        <li>
          <label for=getSiteLogo>siteLogo</label>
          <input type=text placeholder="HTTPS URL or data: URI" id=getSiteLogo />
          <button class="preset" data-for=getSiteLogo data-value="https://login.persona.org/pages/i/persona-logo-100x100.png">URL</button>
          <button class="preset" data-for=getSiteLogo data-value="data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIj8+DQo8IURPQ1RZUEUgc3ZnIFBVQkxJQyAiLS8vVzNDLy9EVEQgU1ZHIDEuMS8vRU4iDQogICJodHRwOi8vd3d3LnczLm9yZy9HcmFwaGljcy9TVkcvMS4xL0RURC9zdmcxMS5kdGQiPg0KDQo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyINCiB3aWR0aD0iNDY3IiBoZWlnaHQ9IjQ2MiI+DQogIDxyZWN0IHg9IjgwIiB5PSI2MCIgd2lkdGg9IjI1MCIgaGVpZ2h0PSIyNTAiIHJ4PSIyMCINCiAgICAgIHN0eWxlPSJmaWxsOiNmZjAwMDA7IHN0cm9rZTojMDAwMDAwO3N0cm9rZS13aWR0aDoycHg7IiAvPg0KICANCiAgPHJlY3QgeD0iMTQwIiB5PSIxMjAiIHdpZHRoPSIyNTAiIGhlaWdodD0iMjUwIiByeD0iNDAiDQogICAgICBzdHlsZT0iZmlsbDojMDAwMGZmOyBzdHJva2U6IzAwMDAwMDsgc3Ryb2tlLXdpZHRoOjJweDsNCiAgICAgIGZpbGwtb3BhY2l0eTowLjc7IiAvPg0KPC9zdmc+">data:</button>
        </li>
        <li>
          <label for=getBackgroundColor>backgroundColor</label>
          <input type=text placeholder="Hex #rgb or #rrggbb" id=getBackgroundColor />
          <button class="preset" data-for=getBackgroundColor data-value="#223">Dark</button>
          <button class="preset" data-for=getBackgroundColor data-value="#fafaf0">Light</button>
        </li>
        <li>
          <label for=getTermsOfService>termsOfService</label>
          <input type=text placeholder="Absolute path or URL" id=getTermsOfService />
          <button class="preset" data-for=getTermsOfService data-value="https://login.persona.org/en/embedded_tos">URL</button>
          <button class="preset" data-for=getTermsOfService data-value="/terms.html">Path</button>
          <em>(Deprecated)</em>
        </li>
        <li>
          <label for=getPrivacyPolicy>privacyPolicy</label>
          <input type=text placeholder="Absolute path or URL" id=getPrivacyPolicy />
          <button class="preset" data-for=getPrivacyPolicy data-value="https://login.persona.org/en/embedded_privacy">URL</button>
          <button class="preset" data-for=getPrivacyPolicy data-value="/privacy.html">Path</button>
          <em>(Deprecated)</em>
        </li>
      </ul>

      <button id="get">navigator.id.get(callback, <em>options</em>);</button>
    </fieldset>

  </div>

  <div class=logging>
    <h2>Event Log</h2>

    <ol id="eventLog"></ol>

    <h2>Assertions</h2>

    <ol id="assertionLog"></li>
  </div>

  <script src="/app.js"></script>
</body>
</html>
